<!doctype html>
<meta charset=utf-8>
<title>GeoQuiz map editor</title>
<canvas id=C width=1020 height=500 style="background:url(b.png) no-repeat 0px 0px; background-size:1020px"></canvas>
<pre id=P></pre>
<style>*{margin:0}</style>
<script src=data.js></script>
<script>

/*
* This tool was made to draw easily the fronteers of all the world's countries.
* It prints JSON data corresponding to each country under the map.
* How to use:
* Click to place each point of the path. It appends 2 ASCII characters to the encoded path (one for pageX/4, one for pageY/2)
* Press space key to start drawing the next country
* Right click to insert a separation (for countries separated in many islands/parts), encoded by a "0".


http://codepen.io/subzey/pen/rVoXQx


*/

c=C.getContext("2d");


p = [

/* Hawaii,Honolulu */ 'Ã±ÃµÃ¸Ã¿Ã­Ã¿Ã¨Ã¿Ã®',
/* Alaska,Juneau */ '0?JO%L2C,;Ã¿@',
/* Washington,Olympia */ ']WbXbTsStjkkcock`iÃ¿b_',
/* Nevada,Carson City */ 'kÂ‰|ÂŠ{Â´yÂ´zÂ¼lÂ¡Ã¿mÂŸ',
/* New Mexico,Santa Fe */ 'Â‰Â®ÂšÂ®ÂšÃÂÃÂÃ‘ÂŒÃ‘ÂŒÃ”ÂŠÃ“Ã¿Â’Âµ',
/* New York,Albany */ 'Ã­rÃ¬Â‘Ã©ÂÃ¨Â‰Ã›ÂˆÃÂ‚Ã|Ã¤|Ã¥xÃ©qÃ¿ÃªÂ„',
/* Florida,Tallahassee */ 'ÃƒÃ›ÃƒÃ—ÃÃ–ÃÃ™Ã•Ã™Ã•Ã—Ã—Ã—Ã›Ã°ÃšÃ¹Ã—Ã¹Ã“Ã«Ã“Ã¤ÃÃœÃŒÃŸÃ‰Ã›Ã¿ÃÃš',
/* Illinois,Springfield */ 'Â½Â†Ã‡Â†Ã†ÂÃ…Â§ÃÂ®Ã€Â©Â¾Â¥Â¾Â¡Â»Â˜Â¼ÂÂ¾ÂŒÃ¿ÃÂ™',
/* Ohio,Columbus */ 'ÃÂ‹Ã•ÂÃ™Â‰Ã™Â˜Ã”Â¤ÃÂ¡ÃÂ™Ã¿Ã“Â™',
/* Rhode Island,Providence */ 'Ã±ÂÃ±Â‰Ã´Â‰ÃµÂÃ¿Ã³Â‹',
/* South Carolina,Columbia */ 'Ã˜ÃÃ–Ã†Ã‘Â¿Ã’Â¼Ã›Â»ÃŸÃ„Ã¿Ã—Ã…',
/* Texas,Austin */ 'ÂÃ‘ÂÃÂšÃÂšÂ²Â£Â±Â£Â¿Â­Ã„Â±ÃƒÂ´Ã†Â´Ã’ÂµÃ–Â´ÃŸÂ¬Ã§ÂªÃ±Â«Ã·Â¥Ã´Â¤Ã¬ÂŸÃŸÂ›ÃÂšÃ¤Â–ÃŸÂ•Ã™Ã¿Â¨Ã',
/* Utah,Salt Lake City */ '{Â®|ÂŠÂ„ÂŠÂ„Â‘ÂŠÂ‘Â‰Â®Ã¿ÂÂ’',
/* Virginia,Richmond */ 'Ã‘Â°Ã•ÂªÃ™Â­ÃœÂ¢Ã ÂÃ¥Â¨Ã¦Â±Ã¿Ã¢Â«',
/* West Virginia,Charleston */ 'Ã™Â­Ã•ÂªÃ”Â¤Ã™Â˜Ã™Â›ÃœÂ›ÃœÂÃ Â›Ã ÂÃœÂ¢Ã¿Ã—Â¥',
/* Pennsylvania,Harrisburg */ 'Ã™Â‰Ã›ÂˆÃ¨Â‰Ã©ÂÃªÂÃ¨Â’ÃªÂ˜Ã§ÂšÃ™Â›Ã¿Ã¢Â–',
/* Massachusetts,Boston */ 'Ã¬Â„ÃµÂ„Ã¶Â‰Ã¬Â‰Ã¿Ã´Â‡',
/* North Carolina,Raleigh */ 'ÃÂ¼Ã—Â°Ã¦Â±Ã§Â·Ã¤Â¾ÃŸÃ„Ã›Ã¿Â»ÃÂ¸',
/* Alabama,Montgomery */ 'ÃƒÃ—Ã„Â¼Ã‹Â¼ÃÃÃÃ–Ã¿ÃˆÃ',
/* California,Sacramento */ 'kÂ‰lÂ¡zÂ¼{ÃzÃŒsÃŒpÃƒiÃ€cÂ¦^Â–_Â‰Ã¿fÂœ',
/* Colorado,Denver */ 'ÂŠÂ‘ÂÂ‘ÂÂ®Â‰Â®Ã¿Â•Â›',
/* Georgia,Atlanta */ 'Ã‹Â¼Ã’Â»Ã‘Â¿Ã–Ã†Ã˜ÃÃ—Ã—Ã•Ã—Ã•Ã™ÃÃ™ÃÃÃ¿ÃÃ„',
/* Michigan,Lansing */ 'Ã†ÂŒÃ‰Â‚Ã‰uÃmÃ’qÃ”Â€Ã‘ÂÃ¿Ã†pÂ½dÃ„]ÃˆgÃcÃ‘lÃŠkÃ¿ÃÂ‚',

/* North Dakota,Bismarck */ 'Â˜TÂ«TÂ­kÂ—kÃ¿Â¡d',
/* Montana,Helena */ 'vTv[wÂ…rÂ˜rÂ˜TÃ¿Âg',
/* Nebraska,Lincoln */ 'Â˜Â‘ÂÂ‘ÂÂ˜Â°Â˜Â¬Â„Â§Â‚Â˜Â‚Ã¿Â­Â”',
/* Arizona,Phoenix */ 'zÃŒ{ÃyÂ´{Â´{Â®Â‰Â®ÂŠÃ“Ã¿ÂÃƒ',
/* Arkansas,Little Rock */ 'Â²Ã„Â´Ã†Â´Ã‰Â¼Ã‰Ã€ÂµÂ¾ÂµÂ¾Â±Â²Â±Ã¿Â¸Â¾',
/* New Hampshire,Concord */ 'Ã³qÃ°Â„Ã´Â„Ã´pÃ¿Ã²Â€',
/* New Jersey,Trenton */ 'Ã©ÂŸÃ§ÂšÃªÂ˜Ã¨Â“ÃªÂÃ¬Â‘Ã«ÂÃ¿ÃªÂ•',
/* Connecticut,Hartford */ 'Ã¬Â‘Ã±ÂÃ±Â‰Ã¬Â‰Ã¿Ã¯ÂŒ',
/* Delaware,Dover */ 'Ã§ÂšÃ§Â£Ã©Â£Ã©ÂŸÃ¿Ã¨ÂŸ',
/* Oklahoma,Oklahoma City */ 'ÂšÂ²ÂšÂ®Â²Â®Â²Ã„Â±ÃƒÂ­Ã„Â£Â¿Â£Â±Ã¿ÂªÂº',
/* Idaho,Boise */ 'sSvTv[wÂ„sÂ„ÂŠsÂŠswuotjÃ¿u~',
/* Oregon,Salem */ '`ickcolktjuoswsÂŠ_Â‰^Â‚Ã¿ct',
/* Indiana,Indianapolis */ 'Ã†Â‹Ã…Â§Ã‡Â©ÃÂÃÂšÃÂŒÃ¿Ã‰Â™',
/* Iowa,Des Moines */ 'Â¬Â„Â­~Â»~Â¾ÂŒÂ¼ÂÂ»Â•ÂºÂ”Â¯Â”Ã¿Â¶Â',
/* Kansas,Topeka */ 'ÂÂ®ÂÂ˜Â°Â˜Â²Â£Â²Â®Ã¿Â®ÂŸ',
/* South Dakota,Pierre */ 'Â˜kÂ˜Â‚Â§Â‚Â¬Â…Â­~Â­kÃ¿Â¢x',
/* Kentucky,Frankfort */ 'ÃÂ±ÃÂ®Ã…Â§Ã‡Â©ÃÂÃÂ¡Ã”Â¤Ã•ÂªÃ‘Â°Ã„Â°Ã„Â²Ã¿ÃÂ¦',
/* Tennessee,Nashville */ 'Â¾Â³ÃÂ±Ã„Â²Ã„Â°Ã—Â°ÃÂ¼Â¿Â¼Ã€ÂµÂ¾ÂµÃ¿Ã‡Âµ',
/* Louisiana,Baton Rouge */ 'Â¼Ã‰ÂºÃ–Â¿Ã–ÃÃÂ¾Ã¢Â´ÃÂµÃ–Â´Ã“Â´Ã‰Ã¿Â»Ã›',
/* Maine,Augusta */ 'Ã´ÂƒÃ´pÃ¹^Ã½bÃ¾vÃ¶|Ã¿Ã¸v',
/* Maryland,Annapolis */ 'Ã§ÂšÃœÂ›ÃœÂŸÃ Â›Ã ÂÃ§Â¬Ã©Â£Ã§Â£Ã¿Ã¤ ',
/* Vermont,Montpelier */ 'Ã­rÃ³rÃ°Â„Ã¬Â„Ã¿Ã¯y',
/* Minnesota,St. Paul */ 'Â­~Â­kÂ«TÂ²TÃ€ZÂ·kÂ·uÂ¼|Â»~Ã¿Â¶v',
/* Mississippi,Jackson */ 'Â¾Â¼Ã„Â¼ÃƒÃœÃ€ÃœÂ¿Ã–ÂºÃ–Ã¿Â¾Ã',
/* Wisconsin,Madison */ 'Â·kÂ¼bÃ‡rÃ…Â†Â½Â†Â»Â¼|Â·uÃ¿Ã',
/* Missouri,Jefferson City */ 'Â¯Â”ÂºÂ”Â»Â–Â¾Â¢Â¾Â¥Ã€Â¨ÃÂ°Â¾Â´Â¾Â±Â²Â±Â²Â£Ã¿Â¹Â£',
/* Wyoming,Cheyenne */ 'Â„rÂ˜rÂ˜Â‘Â„Â‘Ã¿Â–Â',

'sÃŒzÃŒÂŒÃ”ÂŒÃ‘ÂÃ‘Â•Ã™Â–ÃŸÂšÃ¤Â›ÃÂŸÃŸÂ¤Ã¬Â¥Ã´Â«Ã·ÂªÃ¹ÂŠÃ¹ÂˆÃ³Â…Ã­Â€Ã¡~Ã”yÃ’zÃÃ¨Â„Ã¹ÂÃ¹Ã³xÃª{Ã©|Ã§vÃÃ¿zz',
'?Â±Â²Â¶Â¸Â½Ã„!Ã*Ã”*Ã”2Ã•<Ã›DÃŸ=Ãœ.Ã¤&Ã¤ÃŸÃ¡\nÃ¹Ã½Ã½QÃ·XÃ´cÃ¹YÃ½TÃ½tÃ½bÃ¹^Ã´qÃ­rÃ©qÃ¤{Ã|Ã™ÂƒÃ™Â…Ã’ÂŠÃ”ÂÃ–~Ã—pÃ›vÃ™kÃhÃbÃ[ÃŠZÃˆUÃ€ZÂ²TbTbW]WSGXHL1O%JÃ¿zz'

];

sp=""; // current subpath

l=function(s){console.log(s)};

// Trace path
C.onclick = function(e){
    if(e.which==1){
        var x=String.fromCharCode(~~((e.pageX)/4)).replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/</g,"&lt;");
        //l((e.pageX/4).toString(16));
        var y=String.fromCharCode(~~((e.pageY)/2)).replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/</g,"&lt;");
        //l((e.pageY/2).toString(16));
        sp+=x;
        P.innerHTML+=x;
        sp+=y;
        P.innerHTML+=y;
        //l(x.charCodeAt(0));
        //l(y.charCodeAt(0));
    }
}

// Next point of path
W = 0;
currentside=0;
C.onmousemove=function(e){
    W+=1;
    W=W%220;
    
    C.width=C.width;
    c.strokeStyle="red";
    c.lineWidth="1";
    c.beginPath();
    //c.arc(230, 200, 200, 0, 7);
    c.stroke();
    
    var path, subpath;
    
    for(k=0;k<p.length;k++){
    
        path=p[k].split("Ã¿");
        for(i=0;i<path.length;i++){
            subpath = path[i].replace(/\\\\/g,"\\").replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\'/g,"'").replace(/&lt;/g,"<");
            c.beginPath();
            
            
            /*
            //c.moveTo(subpath.charCodeAt(0)*4+2-.1, subpath.charCodeAt(1)*2+1-.1);
            for(j=0;j<subpath.length;j+=2){
                x2= (subpath.charCodeAt(j) + W) / 110;
                y2= -(subpath.charCodeAt(j+1) - 120) / 150;

                while(x2>1){
                    x2-=2;
                }
                
                //l(x2);
                if(x2>-1&&x2<=-.5 && p[k]!= russia && p[k]!= canada)x2=-0.5;
                if(x2>.5&&x2<=1 && p[k]!= russia && p[k]!= canada)x2=0.5;
                

                if(!j && p[k]!= russia && p[k]!= canada){
                    if(x2 < 0) currentside = -.5;
                    if(x2 > 0) currentside = .5;
                }
                
                if(p[k]== russia){
                    currentside = -.5;
                    if(W>50)currentside = .5;
                    if(W>160)currentside = -.5;
                }
                
                if(p[k]== canada){
                    currentside = .5;
                    if(W>80)currentside = -.5;
                    if(W>180)currentside = .5;
                }
                if((x2 <= -.5 || x2 >= .5)){
                    x2 = currentside
                }
                
                //l(x2);
                //l(y2);
                x2 = Math.sin(x2 * Math.PI) * Math.cos(y2 * Math.PI / 2)
                y2 = Math.sin(-y2 * Math.PI/2)
                
                x2 = x2 * 100 + 100;
                y2 = y2 * 100 + 100;
                //if(!j) c.lineTo(x2*4+2, y2*2+1);
                //c.lineTo(x2*4+2, y2*2+1);
                
                if(!j) c.lineTo(x2*2+30, y2*2);
                c.lineTo(x2*2+30, y2*2);

            }
            c.closePath();
            c.fill();
            c.stroke();
            */
            
            
            c.moveTo(subpath.charCodeAt(0)*4+2-.1, subpath.charCodeAt(1)*2+1-.1);
            for(j=0;j<subpath.length;j+=2){
                x2=subpath.charCodeAt(j);
                y2=subpath.charCodeAt(j+1);
                c.lineTo(x2*4+2, y2*2+1);
            }
            c.closePath();
            c.fill();
            c.stroke();
            
            
            
        }
    
    }
    
    
    path=sp.split("Ã¿");
    for(i=0;i<path.length;i++){
        subpath = path[i].replace(/\\\\/g,"\\").replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\'/g,"'").replace(/&lt;/g,"<");
        c.moveTo(subpath.charCodeAt(0)*4+2-.1, subpath.charCodeAt(1)*2+1-.1);
        for(j=0;j<subpath.length;j+=2){
            x2=subpath.charCodeAt(j);
            y2=subpath.charCodeAt(j+1);
            c.lineTo(x2*4+2, y2*2+1);
        }
        c.stroke();
    }
    
    c.lineTo(~~(e.pageX/4)*4+2, ~~(e.pageY/2)*2+1);
    c.stroke();
}

cca = function(s, c){
    return s.charCodeAt(c);
}

// Change path
onkeydown=function(e){
    if(e.keyCode== 32){
        p.push(sp);
        P.innerHTML+="',\n/* " + d[p.length] + " */ '";
        sp="";
    }
}

// Separate islands/parts of a country
C.oncontextmenu = function(e){
    sp+="Ã¿";
    P.innerHTML+="Ã¿";
    return false;
}

P.innerHTML= "/* " + d[p.length] + " */ '";

//setInterval("C.onmousemove({pageX:0,pageY:0})", 20);


</script>