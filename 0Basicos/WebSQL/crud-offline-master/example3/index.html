<html lang="en" manifest="cache.manifest">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>CRUD off-line</title>

  <link href="assets/vendor/jquery.mobile-1.2.0/jquery.mobile-1.2.0.css" rel="stylesheet">
  <link href="assets/css/style.css" rel="stylesheet">
</head>

<body>
  <div data-role="page">

    <div data-role="header">
      <h1>CRUD off-line</h1>
      <a href="#" id="btnAdd" class="button ui-btn-right" data-theme="b" data-icon="plus">Add</a>
    </div>

    <div data-role="content" id="content">
    </div>

    <div data-role="footer">
      <div id="counter"></div>
      <button id="btnDeleteAll" class="button ui-btn-right" type="button" data-icon="alert" data-theme="e">Delete all</button>
    </div>
  </div>
  
  <script src="assets/vendor/jquery-1.8.3/jquery-1.8.3.js"></script>
  <script src="assets/vendor/jquery.mobile-1.2.0/jquery.mobile-1.2.0.js"></script>
  <script src="assets/vendor/backbone-0.9.9/underscore.js"></script>
  <script src="assets/vendor/backbone-0.9.9/json2.js"></script>
  <script src="assets/vendor/backbone-0.9.9/backbone.js"></script>
  <script src="assets/vendor/backbone-0.9.9/backbone-localstorage.js"></script>

  <script src="assets/js/models/contact.js"></script>
  <script src="assets/js/collections/contacts.js"></script>
  <script src="assets/js/views/main.js"></script>
  <script src="assets/js/application.js"></script>
</body>
</html>

<!-- underscore templates -->

<script type="text/template" id="contact_list-template">
  <div class="ui-body">
    <ul data-role="listview">
      <% _.each(contacts, function(contact) { %>    
        <li>
          <h3><%= contact.name %></h3>
          <p>Phone: <%= contact.phone %></p>
          <p>Id: <%= contact.id %></p>
          <div data-role="controlgroup" data-type="horizontal">
            <button type="button" class="btnEdit" data-mini="true" data-inline="true" data-icon="arrow-u" data-contact-id="<%= contact.id %>">edit</button>
            <button type="button" class="btnDelete" data-mini="true" data-inline="true" data-icon="delete" data-contact-id="<%= contact.id %>">delete</button>
          </div>
        </li>
      <% }); %>
    </ul>
  </div>
</script>

<script type="text/template" id="counter-template">
  <p>&nbsp;<%= contacts.size() %> records added</p>
</script>

<script type="text/template" id="form-template">
    <form data-action="">
      <label for="Name">Name</label>
      <input type="text" id="name">

      <label for="Phone">Phone</label>
      <input type="text" id="phone">

      <input type="hidden" id="id"/>

      <div class="ui-body-b ui-body">
        <button id="btnSave" type="button" data-inline="true" data-icon="refresh">Save</button>
        <button id="btnCancel" type="button" data-inline="true" data-icon="plus" data-theme="c">Cancel</button>
      </div>
    </form>
</script>
